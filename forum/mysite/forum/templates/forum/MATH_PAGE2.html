{% extends 'forum/base.html' %}{% load static %} {% block content %} {% for user in users %}
{% block imports %}
{% load static %}
{% block css %} 
<link rel="stylesheet" href="{% static 'forum/styles/mathPage2/mathPage2.css' %}"> {% endblock css %} 
<link rel="stylesheet" href="{% static 'forum/MathQuil/mathquill.css' %}"/>
<script src="{% static 'forum/MathQuil/mathquill.js' %}"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\(','\)']]},
    svg: {
    fontCache: 'global'
  }
  });
</script>
<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
{% endblock %}
<script>
    let MQ = MathQuill.getInterface(2); 
</script>

<form class="container-fluid" method="post" action="{% url 'math_page3' user.id %} " >
  {% csrf_token %} 
  {% for zz in zzs %}
  <div class="row" >
  <div class="col-12 description mb-2 pb-1">Zadanie zamkniete nr. {{forloop.counter0}}</div>
  <div class="col-12"><p>{{zz.tresc}} </p></div>
  <div class="form-check col-md-3 col-6"  >
    <input type="radio" class="radioButton" name="flexRadioDefault{{forloop.counter0}}" id="flexRadioDefault{{forloop.counter0}}1">
    <label class="form-check-label" for="flexRadioDefault{{forloop.counter0}}1" >
      $${{zz.odp_a}}$$
    </label>
  </div>
  <div class="form-check col-md-3 col-6">
    <input type="radio"  class="radioButton" name="flexRadioDefault{{forloop.counter0}}" id="flexRadioDefault{{forloop.counter0}}2">
    <label class="form-check-label" for="flexRadioDefault{{forloop.counter0}}2">
      $${{zz.odp_b}}$$
    </label>
  </div>
  <div class="form-check col-md-3 col-6">
    <input type="radio"  class="radioButton" name="flexRadioDefault{{forloop.counter0}}" id="flexRadioDefault{{forloop.counter0}}3" >
    <label class="form-check-label" for="flexRadioDefault{{forloop.counter0}}3">
      $${{zz.odp_c}}$$
    </label>
  </div>
  <div class="form-check col-md-3 col-6">
    <input type="radio" class="radioButton" name="flexRadioDefault{{forloop.counter0}}" id="flexRadioDefault{{forloop.counter0}}4" >
    <label class="form-check-label" for="flexRadioDefault{{forloop.counter0}}4">
      $${{zz.odp_d}}$$
    </label>
  </div>
</div>
  {% endfor %} {% for zo in zos %}
  <div class="row">
  <div class="col-12 description mb-2 pb-1">Zadanie otwarte nr. {{forloop.counter0}}</div>
  <div class="col-12">{{zo.tresc}}</div>
  {% if zo.url != "" %}
  <div class="col-12"><img class="rounded mx-auto d-block" src="{% static zo.url %}"/></div>
{% endif %}
<div class="col-12"><p>Wprowadź odpowiedź:</p></div>
<div class="col-12">
  <span id="answer{{forloop.counter0}}" class="answerO" ></span><textarea name="odpO" id="latexanswer{{forloop.counter0}}" style="opacity: 0;"></textarea></p>
    <div id="tools">
        <div id="sqrtanswer{{forloop.counter0}}" style=" float:left; padding:20px;">√</div>
        <div id="mldanswer{{forloop.counter0}}" style=" float:left;padding:20px;">*</div>
        <div id="plusanswer{{forloop.counter0}}" style=" float:left;padding:20px;">+</div>
        <div id="minusanswer{{forloop.counter0}}" style=" float:left;padding:20px;">-</div>
        <div id="przecinekanswer{{forloop.counter0}}" style=" float:left;padding:20px;">,</div>
        <div id="pianswer{{forloop.counter0}}" style=" float:left;padding:20px;">π</div>
        <div id="dzielenieanswer{{forloop.counter0}}" style=" float:left;padding:20px;">¼</div>
        <div id="potegaanswer{{forloop.counter0}}" style=" float:left;padding:20px;">^</div>
        <div id="cbrtanswer{{forloop.counter0}}" style=" float:left;padding:20px;">∛</div>
    </div>
    </div>
    <script>
    createMathquill({{forloop.counter0}});
function createMathquill(id)
{

let answerMathField2 = MQ.MathField(document.getElementById('answer'+id), {
    handlers: {
         edit: function() {
                answerMathField2.latex();
                document.getElementById('latexanswer'+id).textContent = answerMathField2.latex();
            }
        }
    });


$( "#sqrtanswer"+id).click(function() {
    answerMathField2.write('\\sqrt{}');
    answerMathField2.reflow();
});

$( "#mldanswer"+id).click(function() {
    answerMathField2.write('\\cdot');
    answerMathField2.reflow();
});
$( "#plusanswer"+id).click(function() {
    answerMathField2.write('+');
    answerMathField2.reflow();
});
$( "#minusanswer"+id).click(function() {
    answerMathField2.write('-');
    answerMathField2.reflow();
});
$( "#przecinekanswer"+id).click(function() {
    answerMathField2.write(',');
    answerMathField2.reflow();
});
$( "#pianswer"+id).click(function() {
    answerMathField2.write('\\pi');
    answerMathField2.reflow();
});
$( "#dzielenieanswer"+id ).click(function() {
    answerMathField2.write('\\frac{ }{ }');
    answerMathField2.reflow();
});
$( "#potegaanswer"+id ).click(function() {
    answerMathField2.write('\\^{}');
    answerMathField2.reflow();
});
$( "#cbrtanswer"+id).click(function() {
    answerMathField2.write('\\sqrt[]{}');
    answerMathField2.reflow();
});

    }
  </script>
  </div>

  {% endfor %}
  <div id="sendAnswers">
  <input type="submit" value="Sprawdź zestaw" />
  <button value="Wróć"><a href="{% url 'math_page' user.id %}">Wróć</a></button>
  </div>
  {% endfor %}
</form>
{% endblock content %}
